{"version":3,"sources":["../../../src/utils/color-utils.ts"],"names":["defaultColorRange","colorRangeToFlatArray","colorRange","normalize","ArrayType","Float32Array","flatArray","Number","isFinite","length","index","i","color"],"mappings":"AAoBA,OAAO,MAAMA,iBAA6C,GAAG,CAC3D,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAD2D,EAE3D,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAF2D,EAG3D,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,CAH2D,EAI3D,CAAC,GAAD,EAAM,GAAN,EAAW,EAAX,CAJ2D,EAK3D,CAAC,GAAD,EAAM,EAAN,EAAU,EAAV,CAL2D,EAM3D,CAAC,GAAD,EAAM,CAAN,EAAS,EAAT,CAN2D,CAAtD;AAUP,OAAO,SAASC,qBAAT,CAA+BC,UAA/B,EAA2CC,SAAS,GAAG,KAAvD,EAA8DC,SAAS,GAAGC,YAA1E,EAAwF;AAC7F,MAAIC,SAAJ;;AAEA,MAAIC,MAAM,CAACC,QAAP,CAAgBN,UAAU,CAAC,CAAD,CAA1B,CAAJ,EAAoC;AAElCI,IAAAA,SAAS,GAAG,IAAIF,SAAJ,CAAcF,UAAd,CAAZ;AACD,GAHD,MAGO;AAELI,IAAAA,SAAS,GAAG,IAAIF,SAAJ,CAAcF,UAAU,CAACO,MAAX,GAAoB,CAAlC,CAAZ;AACA,QAAIC,KAAK,GAAG,CAAZ;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,UAAU,CAACO,MAA/B,EAAuCE,CAAC,EAAxC,EAA4C;AAC1C,YAAMC,KAAK,GAAGV,UAAU,CAACS,CAAD,CAAxB;AACAL,MAAAA,SAAS,CAACI,KAAK,EAAN,CAAT,GAAqBE,KAAK,CAAC,CAAD,CAA1B;AACAN,MAAAA,SAAS,CAACI,KAAK,EAAN,CAAT,GAAqBE,KAAK,CAAC,CAAD,CAA1B;AACAN,MAAAA,SAAS,CAACI,KAAK,EAAN,CAAT,GAAqBE,KAAK,CAAC,CAAD,CAA1B;AACAN,MAAAA,SAAS,CAACI,KAAK,EAAN,CAAT,GAAqBH,MAAM,CAACC,QAAP,CAAgBI,KAAK,CAAC,CAAD,CAArB,IAA4BA,KAAK,CAAC,CAAD,CAAjC,GAAuC,GAA5D;AACD;AACF;;AAED,MAAIT,SAAJ,EAAe;AACb,SAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,SAAS,CAACG,MAA9B,EAAsCE,CAAC,EAAvC,EAA2C;AACzCL,MAAAA,SAAS,CAACK,CAAD,CAAT,IAAgB,GAAhB;AACD;AACF;;AACD,SAAOL,SAAP;AACD","sourcesContent":["// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport const defaultColorRange: [number, number, number][] = [\n  [255, 255, 178],\n  [254, 217, 118],\n  [254, 178, 76],\n  [253, 141, 60],\n  [240, 59, 32],\n  [189, 0, 38]\n];\n\n// Converts a colorRange array to a flat array with 4 components per color\nexport function colorRangeToFlatArray(colorRange, normalize = false, ArrayType = Float32Array) {\n  let flatArray;\n\n  if (Number.isFinite(colorRange[0])) {\n    // its already a flat array.\n    flatArray = new ArrayType(colorRange);\n  } else {\n    // flatten it\n    flatArray = new ArrayType(colorRange.length * 4);\n    let index = 0;\n\n    for (let i = 0; i < colorRange.length; i++) {\n      const color = colorRange[i];\n      flatArray[index++] = color[0];\n      flatArray[index++] = color[1];\n      flatArray[index++] = color[2];\n      flatArray[index++] = Number.isFinite(color[3]) ? color[3] : 255;\n    }\n  }\n\n  if (normalize) {\n    for (let i = 0; i < flatArray.length; i++) {\n      flatArray[i] /= 255;\n    }\n  }\n  return flatArray;\n}\n"],"file":"color-utils.js"}