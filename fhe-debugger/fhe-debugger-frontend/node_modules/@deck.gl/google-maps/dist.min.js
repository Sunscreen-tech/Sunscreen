(function webpackUniversalModuleDefinition(root, factory) {
  if (typeof exports === 'object' && typeof module === 'object')
    module.exports = factory();
  else if (typeof define === 'function' && define.amd) define([], factory);
        else if (typeof exports === 'object') exports['deck'] = factory();
  else root['deck'] = factory();})(globalThis, function () {
"use strict";var __exports__=(()=>{var fe=Object.create;var J=Object.defineProperty;var he=Object.getOwnPropertyDescriptor;var le=Object.getOwnPropertyNames;var ve=Object.getPrototypeOf,pe=Object.prototype.hasOwnProperty;var Er=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),ue=(r,t)=>{for(var a in t)J(r,a,{get:t[a],enumerable:!0})},H=(r,t,a,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of le(t))!pe.call(r,e)&&e!==a&&J(r,e,{get:()=>t[e],enumerable:!(n=he(t,e))||n.enumerable});return r},Y=(r,t,a)=>(H(r,t,"default"),a&&H(a,t,"default")),rr=(r,t,a)=>(a=r!=null?fe(ve(r)):{},H(t||!r||!r.__esModule?J(a,"default",{value:r,enumerable:!0}):a,r)),xe=r=>H(J({},"__esModule",{value:!0}),r);var er=Er((He,_r)=>{_r.exports=globalThis.deck});var Pr=Er((st,wr)=>{wr.exports=globalThis.luma});var Q={};ue(Q,{GoogleMapsOverlay:()=>oe});var V={},Rr=rr(er());Y(V,rr(er()));if(!Rr.Layer)throw new Error("@deck.gl/core is not found");Y(Q,V);function lr(r,t){if(r==null)return{};var a={},n=Object.keys(r),e,i;for(i=0;i<n.length;i++)e=n[i],!(t.indexOf(e)>=0)&&(a[e]=r[e]);return a}function vr(r,t){if(r==null)return{};var a=lr(r,t),n,e;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(e=0;e<i.length;e++)n=i[e],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(a[n]=r[n])}return a}function N(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Lr(r,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function b(r,t,a){return t&&Lr(r.prototype,t),a&&Lr(r,a),r}function I(r,t,a){return t in r?Object.defineProperty(r,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[t]=a,r}var Z=rr(Pr());var ne=rr(er());function X(r,t){return X=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n},X(r,t)}function j(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&X(r,t)}function F(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?F=function(a){return typeof a}:F=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},F(r)}function pr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function q(r,t){if(t&&(F(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pr(r)}function R(r){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},R(r)}function tr(r,t){if(!r)throw new Error("math.gl assertion ".concat(t))}var gt=1/Math.PI*180,Mt=1/180*Math.PI,w={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function Ar(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=t.precision,n=a===void 0?w.precision:a;return r=me(r),"".concat(parseFloat(r.toPrecision(n)))}function $(r){return Array.isArray(r)||ArrayBuffer.isView(r)&&!(r instanceof DataView)}function ur(r,t,a){var n=w.EPSILON;a&&(w.EPSILON=a);try{if(r===t)return!0;if($(r)&&$(t)){if(r.length!==t.length)return!1;for(var e=0;e<r.length;++e)if(!ur(r[e],t[e]))return!1;return!0}return r&&r.equals?r.equals(t):t&&t.equals?t.equals(r):typeof r=="number"&&typeof t=="number"?Math.abs(r-t)<=w.EPSILON*Math.max(1,Math.abs(r),Math.abs(t)):!1}finally{w.EPSILON=n}}function me(r){return Math.round(r/w.EPSILON)*w.EPSILON}function ye(r){var t=ge();return function(){var n=R(r),e;if(t){var i=R(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return q(this,e)}}function ge(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Me(r){function t(){var a=Reflect.construct(r,Array.from(arguments));return Object.setPrototypeOf(a,Object.getPrototypeOf(this)),a}return t.prototype=Object.create(r.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r,t}var nr=function(r){j(a,r);var t=ye(a);function a(){return N(this,a),t.apply(this,arguments)}return b(a,[{key:"clone",value:function(){return new this.constructor().copy(this)}},{key:"fromArray",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=0;s<this.ELEMENTS;++s)this[s]=e[s+i];return this.check()}},{key:"toArray",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=0;s<this.ELEMENTS;++s)e[i+s]=this[s];return e}},{key:"from",value:function(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}},{key:"to",value:function(e){return e===this?this:$(e)?this.toArray(e):this.toObject(e)}},{key:"toTarget",value:function(e){return e?this.to(e):this}},{key:"toFloat32Array",value:function(){return new Float32Array(this)}},{key:"toString",value:function(){return this.formatString(w)}},{key:"formatString",value:function(e){for(var i="",s=0;s<this.ELEMENTS;++s)i+=(s>0?", ":"")+Ar(this[s],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(i,"]")}},{key:"equals",value:function(e){if(!e||this.length!==e.length)return!1;for(var i=0;i<this.ELEMENTS;++i)if(!ur(this[i],e[i]))return!1;return!0}},{key:"exactEquals",value:function(e){if(!e||this.length!==e.length)return!1;for(var i=0;i<this.ELEMENTS;++i)if(this[i]!==e[i])return!1;return!0}},{key:"negate",value:function(){for(var e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}},{key:"lerp",value:function(e,i,s){if(s===void 0)return this.lerp(this,e,i);for(var c=0;c<this.ELEMENTS;++c){var o=e[c];this[c]=o+s*(i[c]-o)}return this.check()}},{key:"min",value:function(e){for(var i=0;i<this.ELEMENTS;++i)this[i]=Math.min(e[i],this[i]);return this.check()}},{key:"max",value:function(e){for(var i=0;i<this.ELEMENTS;++i)this[i]=Math.max(e[i],this[i]);return this.check()}},{key:"clamp",value:function(e,i){for(var s=0;s<this.ELEMENTS;++s)this[s]=Math.min(Math.max(this[s],e[s]),i[s]);return this.check()}},{key:"add",value:function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];for(var c=0,o=i;c<o.length;c++)for(var h=o[c],f=0;f<this.ELEMENTS;++f)this[f]+=h[f];return this.check()}},{key:"subtract",value:function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];for(var c=0,o=i;c<o.length;c++)for(var h=o[c],f=0;f<this.ELEMENTS;++f)this[f]-=h[f];return this.check()}},{key:"scale",value:function(e){if(typeof e=="number")for(var i=0;i<this.ELEMENTS;++i)this[i]*=e;else for(var s=0;s<this.ELEMENTS&&s<e.length;++s)this[s]*=e[s];return this.check()}},{key:"multiplyByScalar",value:function(e){for(var i=0;i<this.ELEMENTS;++i)this[i]*=e;return this.check()}},{key:"check",value:function(){if(w.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}},{key:"validate",value:function(){for(var e=this.length===this.ELEMENTS,i=0;i<this.ELEMENTS;++i)e=e&&Number.isFinite(this[i]);return e}},{key:"sub",value:function(e){return this.subtract(e)}},{key:"setScalar",value:function(e){for(var i=0;i<this.ELEMENTS;++i)this[i]=e;return this.check()}},{key:"addScalar",value:function(e){for(var i=0;i<this.ELEMENTS;++i)this[i]+=e;return this.check()}},{key:"subScalar",value:function(e){return this.addScalar(-e)}},{key:"multiplyScalar",value:function(e){for(var i=0;i<this.ELEMENTS;++i)this[i]*=e;return this.check()}},{key:"divideScalar",value:function(e){return this.multiplyByScalar(1/e)}},{key:"clampScalar",value:function(e,i){for(var s=0;s<this.ELEMENTS;++s)this[s]=Math.min(Math.max(this[s],e),i);return this.check()}},{key:"elements",get:function(){return this}}]),a}(Me(Array));function de(r,t){if(r.length!==t)return!1;for(var a=0;a<r.length;++a)if(!Number.isFinite(r[a]))return!1;return!0}function C(r){if(!Number.isFinite(r))throw new Error("Invalid number ".concat(r));return r}function ar(r,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";if(w.debug&&!de(r,t))throw new Error("math.gl: ".concat(a," some fields set to invalid numbers'"));return r}function ke(r){var t=Oe();return function(){var n=R(r),e;if(t){var i=R(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return q(this,e)}}function Oe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Sr=function(r){j(a,r);var t=ke(a);function a(){return N(this,a),t.apply(this,arguments)}return b(a,[{key:"x",get:function(){return this[0]},set:function(e){this[0]=C(e)}},{key:"y",get:function(){return this[1]},set:function(e){this[1]=C(e)}},{key:"len",value:function(){return Math.sqrt(this.lengthSquared())}},{key:"magnitude",value:function(){return this.len()}},{key:"lengthSquared",value:function(){for(var e=0,i=0;i<this.ELEMENTS;++i)e+=this[i]*this[i];return e}},{key:"magnitudeSquared",value:function(){return this.lengthSquared()}},{key:"distance",value:function(e){return Math.sqrt(this.distanceSquared(e))}},{key:"distanceSquared",value:function(e){for(var i=0,s=0;s<this.ELEMENTS;++s){var c=this[s]-e[s];i+=c*c}return C(i)}},{key:"dot",value:function(e){for(var i=0,s=0;s<this.ELEMENTS;++s)i+=this[s]*e[s];return C(i)}},{key:"normalize",value:function(){var e=this.magnitude();if(e!==0)for(var i=0;i<this.ELEMENTS;++i)this[i]/=e;return this.check()}},{key:"multiply",value:function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];for(var c=0,o=i;c<o.length;c++)for(var h=o[c],f=0;f<this.ELEMENTS;++f)this[f]*=h[f];return this.check()}},{key:"divide",value:function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];for(var c=0,o=i;c<o.length;c++)for(var h=o[c],f=0;f<this.ELEMENTS;++f)this[f]/=h[f];return this.check()}},{key:"lengthSq",value:function(){return this.lengthSquared()}},{key:"distanceTo",value:function(e){return this.distance(e)}},{key:"distanceToSquared",value:function(e){return this.distanceSquared(e)}},{key:"getComponent",value:function(e){return tr(e>=0&&e<this.ELEMENTS,"index is out of range"),C(this[e])}},{key:"setComponent",value:function(e,i){return tr(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=i,this.check()}},{key:"addVectors",value:function(e,i){return this.copy(e).add(i)}},{key:"subVectors",value:function(e,i){return this.copy(e).subtract(i)}},{key:"multiplyVectors",value:function(e,i){return this.copy(e).multiply(i)}},{key:"addScaledVector",value:function(e,i){return this.add(new this.constructor(e).multiplyScalar(i))}}]),a}(nr);var W=1e-6,D=typeof Float32Array<"u"?Float32Array:Array;var Dt=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var r=0,t=arguments.length;t--;)r+=arguments[t]*arguments[t];return Math.sqrt(r)});function Ee(){var r=new D(2);return D!=Float32Array&&(r[0]=0,r[1]=0),r}function zr(r,t,a){var n=t[0],e=t[1];return r[0]=a[0]*n+a[2]*e,r[1]=a[1]*n+a[3]*e,r}function Nr(r,t,a){var n=t[0],e=t[1];return r[0]=a[0]*n+a[2]*e+a[4],r[1]=a[1]*n+a[3]*e+a[5],r}function br(r,t,a){var n=t[0],e=t[1];return r[0]=a[0]*n+a[3]*e+a[6],r[1]=a[1]*n+a[4]*e+a[7],r}function sr(r,t,a){var n=t[0],e=t[1];return r[0]=a[0]*n+a[4]*e+a[12],r[1]=a[1]*n+a[5]*e+a[13],r}var It=function(){var r=Ee();return function(t,a,n,e,i,s){var c,o;for(a||(a=2),n||(n=0),e?o=Math.min(e*a+n,t.length):o=t.length,c=n;c<o;c+=a)r[0]=t[c],r[1]=t[c+1],i(r,r,s),t[c]=r[0],t[c+1]=r[1];return t}}();function cr(r,t,a){var n=t[0],e=t[1],i=a[3]*n+a[7]*e||1;return r[0]=(a[0]*n+a[4]*e)/i,r[1]=(a[1]*n+a[5]*e)/i,r}function jr(r,t,a){var n=t[0],e=t[1],i=t[2],s=a[3]*n+a[7]*e+a[11]*i||1;return r[0]=(a[0]*n+a[4]*e+a[8]*i)/s,r[1]=(a[1]*n+a[5]*e+a[9]*i)/s,r[2]=(a[2]*n+a[6]*e+a[10]*i)/s,r}function _e(r){var t=Re();return function(){var n=R(r),e;if(t){var i=R(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return q(this,e)}}function Re(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var G=function(r){j(a,r);var t=_e(a);function a(){var n,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return N(this,a),n=t.call(this,2),$(e)&&arguments.length===1?n.copy(e):(w.debug&&(C(e),C(i)),n[0]=e,n[1]=i),n}return b(a,[{key:"set",value:function(e,i){return this[0]=e,this[1]=i,this.check()}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this.check()}},{key:"fromObject",value:function(e){return w.debug&&(C(e.x),C(e.y)),this[0]=e.x,this[1]=e.y,this.check()}},{key:"toObject",value:function(e){return e.x=this[0],e.y=this[1],e}},{key:"ELEMENTS",get:function(){return 2}},{key:"horizontalAngle",value:function(){return Math.atan2(this.y,this.x)}},{key:"verticalAngle",value:function(){return Math.atan2(this.x,this.y)}},{key:"transform",value:function(e){return this.transformAsPoint(e)}},{key:"transformAsPoint",value:function(e){return sr(this,this,e),this.check()}},{key:"transformAsVector",value:function(e){return cr(this,this,e),this.check()}},{key:"transformByMatrix3",value:function(e){return br(this,this,e),this.check()}},{key:"transformByMatrix2x3",value:function(e){return Nr(this,this,e),this.check()}},{key:"transformByMatrix2",value:function(e){return zr(this,this,e),this.check()}}]),a}(Sr);function Le(){var r=new D(3);return D!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function qr(r,t,a){var n=t[0],e=t[1],i=t[2],s=a[3]*n+a[7]*e+a[11]*i+a[15];return s=s||1,r[0]=(a[0]*n+a[4]*e+a[8]*i+a[12])/s,r[1]=(a[1]*n+a[5]*e+a[9]*i+a[13])/s,r[2]=(a[2]*n+a[6]*e+a[10]*i+a[14])/s,r}var Ht=function(){var r=Le();return function(t,a,n,e,i,s){var c,o;for(a||(a=3),n||(n=0),e?o=Math.min(e*a+n,t.length):o=t.length,c=n;c<o;c+=a)r[0]=t[c],r[1]=t[c+1],r[2]=t[c+2],i(r,r,s),t[c]=r[0],t[c+1]=r[1],t[c+2]=r[2];return t}}();function Pe(r){var t=Ae();return function(){var n=R(r),e;if(t){var i=R(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return q(this,e)}}function Ae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Vr=function(r){j(a,r);var t=Pe(a);function a(){return N(this,a),t.apply(this,arguments)}return b(a,[{key:"toString",value:function(){var e="[";if(w.printRowMajor){e+="row-major:";for(var i=0;i<this.RANK;++i)for(var s=0;s<this.RANK;++s)e+=" ".concat(this[s*this.RANK+i])}else{e+="column-major:";for(var c=0;c<this.ELEMENTS;++c)e+=" ".concat(this[c])}return e+="]",e}},{key:"getElementIndex",value:function(e,i){return i*this.RANK+e}},{key:"getElement",value:function(e,i){return this[i*this.RANK+e]}},{key:"setElement",value:function(e,i,s){return this[i*this.RANK+e]=C(s),this}},{key:"getColumn",value:function(e){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Array(this.RANK).fill(-0),s=e*this.RANK,c=0;c<this.RANK;++c)i[c]=this[s+c];return i}},{key:"setColumn",value:function(e,i){for(var s=e*this.RANK,c=0;c<this.RANK;++c)this[s+c]=i[c];return this}}]),a}(nr);function Se(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Dr(r,t){if(r===t){var a=t[1],n=t[2],e=t[3],i=t[6],s=t[7],c=t[11];r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=a,r[6]=t[9],r[7]=t[13],r[8]=n,r[9]=i,r[11]=t[14],r[12]=e,r[13]=s,r[14]=c}else r[0]=t[0],r[1]=t[4],r[2]=t[8],r[3]=t[12],r[4]=t[1],r[5]=t[5],r[6]=t[9],r[7]=t[13],r[8]=t[2],r[9]=t[6],r[10]=t[10],r[11]=t[14],r[12]=t[3],r[13]=t[7],r[14]=t[11],r[15]=t[15];return r}function Ir(r,t){var a=t[0],n=t[1],e=t[2],i=t[3],s=t[4],c=t[5],o=t[6],h=t[7],f=t[8],l=t[9],v=t[10],p=t[11],u=t[12],y=t[13],x=t[14],M=t[15],O=a*c-n*s,m=a*o-e*s,g=a*h-i*s,d=n*o-e*c,k=n*h-i*c,A=e*h-i*o,_=f*y-l*u,S=f*x-v*u,P=f*M-p*u,L=l*x-v*y,T=l*M-p*y,z=v*M-p*x,E=O*z-m*T+g*L+d*P-k*S+A*_;return E?(E=1/E,r[0]=(c*z-o*T+h*L)*E,r[1]=(e*T-n*z-i*L)*E,r[2]=(y*A-x*k+M*d)*E,r[3]=(v*k-l*A-p*d)*E,r[4]=(o*P-s*z-h*S)*E,r[5]=(a*z-e*P+i*S)*E,r[6]=(x*g-u*A-M*m)*E,r[7]=(f*A-v*g+p*m)*E,r[8]=(s*T-c*P+h*_)*E,r[9]=(n*P-a*T-i*_)*E,r[10]=(u*k-y*g+M*O)*E,r[11]=(l*g-f*k-p*O)*E,r[12]=(c*S-s*L-o*_)*E,r[13]=(a*L-n*S+e*_)*E,r[14]=(y*m-u*d-x*O)*E,r[15]=(f*d-l*m+v*O)*E,r):null}function Yr(r){var t=r[0],a=r[1],n=r[2],e=r[3],i=r[4],s=r[5],c=r[6],o=r[7],h=r[8],f=r[9],l=r[10],v=r[11],p=r[12],u=r[13],y=r[14],x=r[15],M=t*s-a*i,O=t*c-n*i,m=t*o-e*i,g=a*c-n*s,d=a*o-e*s,k=n*o-e*c,A=h*u-f*p,_=h*y-l*p,S=h*x-v*p,P=f*y-l*u,L=f*x-v*u,T=l*x-v*y;return M*T-O*L+m*P+g*S-d*_+k*A}function xr(r,t,a){var n=t[0],e=t[1],i=t[2],s=t[3],c=t[4],o=t[5],h=t[6],f=t[7],l=t[8],v=t[9],p=t[10],u=t[11],y=t[12],x=t[13],M=t[14],O=t[15],m=a[0],g=a[1],d=a[2],k=a[3];return r[0]=m*n+g*c+d*l+k*y,r[1]=m*e+g*o+d*v+k*x,r[2]=m*i+g*h+d*p+k*M,r[3]=m*s+g*f+d*u+k*O,m=a[4],g=a[5],d=a[6],k=a[7],r[4]=m*n+g*c+d*l+k*y,r[5]=m*e+g*o+d*v+k*x,r[6]=m*i+g*h+d*p+k*M,r[7]=m*s+g*f+d*u+k*O,m=a[8],g=a[9],d=a[10],k=a[11],r[8]=m*n+g*c+d*l+k*y,r[9]=m*e+g*o+d*v+k*x,r[10]=m*i+g*h+d*p+k*M,r[11]=m*s+g*f+d*u+k*O,m=a[12],g=a[13],d=a[14],k=a[15],r[12]=m*n+g*c+d*l+k*y,r[13]=m*e+g*o+d*v+k*x,r[14]=m*i+g*h+d*p+k*M,r[15]=m*s+g*f+d*u+k*O,r}function Wr(r,t,a){var n=a[0],e=a[1],i=a[2],s,c,o,h,f,l,v,p,u,y,x,M;return t===r?(r[12]=t[0]*n+t[4]*e+t[8]*i+t[12],r[13]=t[1]*n+t[5]*e+t[9]*i+t[13],r[14]=t[2]*n+t[6]*e+t[10]*i+t[14],r[15]=t[3]*n+t[7]*e+t[11]*i+t[15]):(s=t[0],c=t[1],o=t[2],h=t[3],f=t[4],l=t[5],v=t[6],p=t[7],u=t[8],y=t[9],x=t[10],M=t[11],r[0]=s,r[1]=c,r[2]=o,r[3]=h,r[4]=f,r[5]=l,r[6]=v,r[7]=p,r[8]=u,r[9]=y,r[10]=x,r[11]=M,r[12]=s*n+f*e+u*i+t[12],r[13]=c*n+l*e+y*i+t[13],r[14]=o*n+v*e+x*i+t[14],r[15]=h*n+p*e+M*i+t[15]),r}function Fr(r,t,a){var n=a[0],e=a[1],i=a[2];return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r[4]=t[4]*e,r[5]=t[5]*e,r[6]=t[6]*e,r[7]=t[7]*e,r[8]=t[8]*i,r[9]=t[9]*i,r[10]=t[10]*i,r[11]=t[11]*i,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function Br(r,t,a,n){var e=n[0],i=n[1],s=n[2],c=Math.hypot(e,i,s),o,h,f,l,v,p,u,y,x,M,O,m,g,d,k,A,_,S,P,L,T,z,E,K;return c<W?null:(c=1/c,e*=c,i*=c,s*=c,o=Math.sin(a),h=Math.cos(a),f=1-h,l=t[0],v=t[1],p=t[2],u=t[3],y=t[4],x=t[5],M=t[6],O=t[7],m=t[8],g=t[9],d=t[10],k=t[11],A=e*e*f+h,_=i*e*f+s*o,S=s*e*f-i*o,P=e*i*f-s*o,L=i*i*f+h,T=s*i*f+e*o,z=e*s*f+i*o,E=i*s*f-e*o,K=s*s*f+h,r[0]=l*A+y*_+m*S,r[1]=v*A+x*_+g*S,r[2]=p*A+M*_+d*S,r[3]=u*A+O*_+k*S,r[4]=l*P+y*L+m*T,r[5]=v*P+x*L+g*T,r[6]=p*P+M*L+d*T,r[7]=u*P+O*L+k*T,r[8]=l*z+y*E+m*K,r[9]=v*z+x*E+g*K,r[10]=p*z+M*E+d*K,r[11]=u*z+O*E+k*K,t!==r&&(r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r)}function Zr(r,t,a){var n=Math.sin(a),e=Math.cos(a),i=t[4],s=t[5],c=t[6],o=t[7],h=t[8],f=t[9],l=t[10],v=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=i*e+h*n,r[5]=s*e+f*n,r[6]=c*e+l*n,r[7]=o*e+v*n,r[8]=h*e-i*n,r[9]=f*e-s*n,r[10]=l*e-c*n,r[11]=v*e-o*n,r}function $r(r,t,a){var n=Math.sin(a),e=Math.cos(a),i=t[0],s=t[1],c=t[2],o=t[3],h=t[8],f=t[9],l=t[10],v=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=i*e-h*n,r[1]=s*e-f*n,r[2]=c*e-l*n,r[3]=o*e-v*n,r[8]=i*n+h*e,r[9]=s*n+f*e,r[10]=c*n+l*e,r[11]=o*n+v*e,r}function Kr(r,t,a){var n=Math.sin(a),e=Math.cos(a),i=t[0],s=t[1],c=t[2],o=t[3],h=t[4],f=t[5],l=t[6],v=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=i*e+h*n,r[1]=s*e+f*n,r[2]=c*e+l*n,r[3]=o*e+v*n,r[4]=h*e-i*n,r[5]=f*e-s*n,r[6]=l*e-c*n,r[7]=v*e-o*n,r}function Xr(r,t){var a=t[0],n=t[1],e=t[2],i=t[3],s=a+a,c=n+n,o=e+e,h=a*s,f=n*s,l=n*c,v=e*s,p=e*c,u=e*o,y=i*s,x=i*c,M=i*o;return r[0]=1-l-u,r[1]=f+M,r[2]=v-x,r[3]=0,r[4]=f-M,r[5]=1-h-u,r[6]=p+y,r[7]=0,r[8]=v+x,r[9]=p-y,r[10]=1-h-l,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Gr(r,t,a,n,e,i,s){var c=1/(a-t),o=1/(e-n),h=1/(i-s);return r[0]=i*2*c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i*2*o,r[6]=0,r[7]=0,r[8]=(a+t)*c,r[9]=(e+n)*o,r[10]=(s+i)*h,r[11]=-1,r[12]=0,r[13]=0,r[14]=s*i*2*h,r[15]=0,r}function Te(r,t,a,n,e){var i=1/Math.tan(t/2),s;return r[0]=i/a,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,e!=null&&e!==1/0?(s=1/(n-e),r[10]=(e+n)*s,r[14]=2*e*n*s):(r[10]=-1,r[14]=-2*n),r}var Ur=Te;function ze(r,t,a,n,e,i,s){var c=1/(t-a),o=1/(n-e),h=1/(i-s);return r[0]=-2*c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*o,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*h,r[11]=0,r[12]=(t+a)*c,r[13]=(e+n)*o,r[14]=(s+i)*h,r[15]=1,r}var Qr=ze;function Hr(r,t,a,n){var e,i,s,c,o,h,f,l,v,p,u=t[0],y=t[1],x=t[2],M=n[0],O=n[1],m=n[2],g=a[0],d=a[1],k=a[2];return Math.abs(u-g)<W&&Math.abs(y-d)<W&&Math.abs(x-k)<W?Se(r):(f=u-g,l=y-d,v=x-k,p=1/Math.hypot(f,l,v),f*=p,l*=p,v*=p,e=O*v-m*l,i=m*f-M*v,s=M*l-O*f,p=Math.hypot(e,i,s),p?(p=1/p,e*=p,i*=p,s*=p):(e=0,i=0,s=0),c=l*s-v*i,o=v*e-f*s,h=f*i-l*e,p=Math.hypot(c,o,h),p?(p=1/p,c*=p,o*=p,h*=p):(c=0,o=0,h=0),r[0]=e,r[1]=c,r[2]=f,r[3]=0,r[4]=i,r[5]=o,r[6]=l,r[7]=0,r[8]=s,r[9]=h,r[10]=v,r[11]=0,r[12]=-(e*u+i*y+s*x),r[13]=-(c*u+o*y+h*x),r[14]=-(f*u+l*y+v*x),r[15]=1,r)}function be(){var r=new D(4);return D!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0),r}function Jr(r,t,a){var n=t[0],e=t[1],i=t[2],s=t[3];return r[0]=a[0]*n+a[4]*e+a[8]*i+a[12]*s,r[1]=a[1]*n+a[5]*e+a[9]*i+a[13]*s,r[2]=a[2]*n+a[6]*e+a[10]*i+a[14]*s,r[3]=a[3]*n+a[7]*e+a[11]*i+a[15]*s,r}var fn=function(){var r=be();return function(t,a,n,e,i,s){var c,o;for(a||(a=4),n||(n=0),e?o=Math.min(e*a+n,t.length):o=t.length,c=n;c<o;c+=a)r[0]=t[c],r[1]=t[c+1],r[2]=t[c+2],r[3]=t[c+3],i(r,r,s),t[c]=r[0],t[c+1]=r[1],t[c+2]=r[2],t[c+3]=r[3];return t}}();function je(r){var t=qe();return function(){var n=R(r),e;if(t){var i=R(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return q(this,e)}}function qe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var gr;(function(r){r[r.COL0ROW0=0]="COL0ROW0",r[r.COL0ROW1=1]="COL0ROW1",r[r.COL0ROW2=2]="COL0ROW2",r[r.COL0ROW3=3]="COL0ROW3",r[r.COL1ROW0=4]="COL1ROW0",r[r.COL1ROW1=5]="COL1ROW1",r[r.COL1ROW2=6]="COL1ROW2",r[r.COL1ROW3=7]="COL1ROW3",r[r.COL2ROW0=8]="COL2ROW0",r[r.COL2ROW1=9]="COL2ROW1",r[r.COL2ROW2=10]="COL2ROW2",r[r.COL2ROW3=11]="COL2ROW3",r[r.COL3ROW0=12]="COL3ROW0",r[r.COL3ROW1=13]="COL3ROW1",r[r.COL3ROW2=14]="COL3ROW2",r[r.COL3ROW3=15]="COL3ROW3"})(gr||(gr={}));var Ve=45*Math.PI/180,De=1,mr=.1,yr=500,Ie=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),U=function(r){j(a,r);var t=je(a);function a(n){var e;return N(this,a),e=t.call(this,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(n)?e.copy(n):e.identity(),e}return b(a,[{key:"ELEMENTS",get:function(){return 16}},{key:"RANK",get:function(){return 4}},{key:"INDICES",get:function(){return gr}},{key:"copy",value:function(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}},{key:"set",value:function(e,i,s,c,o,h,f,l,v,p,u,y,x,M,O,m){return this[0]=e,this[1]=i,this[2]=s,this[3]=c,this[4]=o,this[5]=h,this[6]=f,this[7]=l,this[8]=v,this[9]=p,this[10]=u,this[11]=y,this[12]=x,this[13]=M,this[14]=O,this[15]=m,this.check()}},{key:"setRowMajor",value:function(e,i,s,c,o,h,f,l,v,p,u,y,x,M,O,m){return this[0]=e,this[1]=o,this[2]=v,this[3]=x,this[4]=i,this[5]=h,this[6]=p,this[7]=M,this[8]=s,this[9]=f,this[10]=u,this[11]=O,this[12]=c,this[13]=l,this[14]=y,this[15]=m,this.check()}},{key:"toRowMajor",value:function(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}},{key:"identity",value:function(){return this.copy(Ie)}},{key:"fromObject",value:function(e){return this.check()}},{key:"fromQuaternion",value:function(e){return Xr(this,e),this.check()}},{key:"frustum",value:function(e){var i=e.left,s=e.right,c=e.bottom,o=e.top,h=e.near,f=h===void 0?mr:h,l=e.far,v=l===void 0?yr:l;return v===1/0?Fe(this,i,s,c,o,f):Gr(this,i,s,c,o,f,v),this.check()}},{key:"lookAt",value:function(e){var i=e.eye,s=e.center,c=s===void 0?[0,0,0]:s,o=e.up,h=o===void 0?[0,1,0]:o;return Hr(this,i,c,h),this.check()}},{key:"ortho",value:function(e){var i=e.left,s=e.right,c=e.bottom,o=e.top,h=e.near,f=h===void 0?mr:h,l=e.far,v=l===void 0?yr:l;return Qr(this,i,s,c,o,f,v),this.check()}},{key:"orthographic",value:function(e){var i=e.fovy,s=i===void 0?Ve:i,c=e.aspect,o=c===void 0?De:c,h=e.focalDistance,f=h===void 0?1:h,l=e.near,v=l===void 0?mr:l,p=e.far,u=p===void 0?yr:p;re(s);var y=s/2,x=f*Math.tan(y),M=x*o;return this.ortho({left:-M,right:M,bottom:-x,top:x,near:v,far:u})}},{key:"perspective",value:function(e){var i=e.fovy,s=i===void 0?45*Math.PI/180:i,c=e.aspect,o=c===void 0?1:c,h=e.near,f=h===void 0?.1:h,l=e.far,v=l===void 0?500:l;return re(s),Ur(this,s,o,f,v),this.check()}},{key:"determinant",value:function(){return Yr(this)}},{key:"getScale",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}},{key:"getTranslation",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}},{key:"getRotation",value:function(e,i){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],i=i||[-0,-0,-0];var s=this.getScale(i),c=1/s[0],o=1/s[1],h=1/s[2];return e[0]=this[0]*c,e[1]=this[1]*o,e[2]=this[2]*h,e[3]=0,e[4]=this[4]*c,e[5]=this[5]*o,e[6]=this[6]*h,e[7]=0,e[8]=this[8]*c,e[9]=this[9]*o,e[10]=this[10]*h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},{key:"getRotationMatrix3",value:function(e,i){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],i=i||[-0,-0,-0];var s=this.getScale(i),c=1/s[0],o=1/s[1],h=1/s[2];return e[0]=this[0]*c,e[1]=this[1]*o,e[2]=this[2]*h,e[3]=this[4]*c,e[4]=this[5]*o,e[5]=this[6]*h,e[6]=this[8]*c,e[7]=this[9]*o,e[8]=this[10]*h,e}},{key:"transpose",value:function(){return Dr(this,this),this.check()}},{key:"invert",value:function(){return Ir(this,this),this.check()}},{key:"multiplyLeft",value:function(e){return xr(this,e,this),this.check()}},{key:"multiplyRight",value:function(e){return xr(this,this,e),this.check()}},{key:"rotateX",value:function(e){return Zr(this,this,e),this.check()}},{key:"rotateY",value:function(e){return $r(this,this,e),this.check()}},{key:"rotateZ",value:function(e){return Kr(this,this,e),this.check()}},{key:"rotateXYZ",value:function(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}},{key:"rotateAxis",value:function(e,i){return Br(this,this,e,i),this.check()}},{key:"scale",value:function(e){return Fr(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}},{key:"translate",value:function(e){return Wr(this,this,e),this.check()}},{key:"transform",value:function(e,i){return e.length===4?(i=Jr(i||[-0,-0,-0,-0],e,this),ar(i,4),i):this.transformAsPoint(e,i)}},{key:"transformAsPoint",value:function(e,i){var s=e.length,c;switch(s){case 2:c=sr(i||[-0,-0],e,this);break;case 3:c=qr(i||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return ar(c,e.length),c}},{key:"transformAsVector",value:function(e,i){var s;switch(e.length){case 2:s=cr(i||[-0,-0],e,this);break;case 3:s=jr(i||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return ar(s,e.length),s}},{key:"transformPoint",value:function(e,i){return this.transformAsPoint(e,i)}},{key:"transformVector",value:function(e,i){return this.transformAsPoint(e,i)}},{key:"transformDirection",value:function(e,i){return this.transformAsVector(e,i)}},{key:"makeRotationX",value:function(e){return this.identity().rotateX(e)}},{key:"makeTranslation",value:function(e,i,s){return this.identity().translate([e,i,s])}}],[{key:"IDENTITY",get:function(){return We()}},{key:"ZERO",get:function(){return Ye()}}]),a}(Vr);var or,fr;function Ye(){return or||(or=new U([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(or)),or}function We(){return fr||(fr=new U,Object.freeze(fr)),fr}function re(r){if(r>Math.PI*2)throw Error("expected radians")}function Fe(r,t,a,n,e,i){var s=2*i/(a-t),c=2*i/(e-n),o=(a+t)/(a-t),h=(e+n)/(e-n),f=-1,l=-1,v=-2*i;return r[0]=s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=c,r[6]=0,r[7]=0,r[8]=o,r[9]=h,r[10]=f,r[11]=l,r[12]=0,r[13]=0,r[14]=v,r[15]=0,r}function ee(r,t){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),a.push.apply(a,n)}return a}function te(r){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ee(Object(a),!0).forEach(function(n){I(r,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(a,n))})}return r}var Mr=85.05113;function kr(r,t,a,n){if(a){if(a.userData._googleMap===r)return a;hr(a)}var e={click:null,rightclick:null,dblclick:null,mousemove:null,mouseout:null},i=new ne.Deck(te(te({},n),{},{useDevicePixels:n.interleaved?!0:n.useDevicePixels,style:n.interleaved?null:{pointerEvents:"none"},parent:Be(t,n.style),initialViewState:{longitude:0,latitude:0,zoom:1},controller:!1})),s=function(h){e[h]=r.addListener(h,function(f){return $e(i,h,f)})};for(var c in e)s(c);return i.userData._googleMap=r,i.userData._eventListeners=e,i}function Be(r,t){var a=document.createElement("div");if(a.style.position="absolute",Object.assign(a.style,t),"getPanes"in r){var n;(n=r.getPanes())===null||n===void 0||n.overlayLayer.appendChild(a)}else{var e;(e=r.getMap())===null||e===void 0||e.getDiv().appendChild(a)}return a}function hr(r){var t=r.userData._eventListeners;for(var a in t)t[a]&&t[a].remove();r.finalize()}function ae(r,t){var a=ie(r),n=a.width,e=a.height,i=t.getProjection(),s=r.getBounds();if(!s)return{width:n,height:e,left:0,top:0};var c=s.getNorthEast(),o=s.getSouthWest(),h=i.fromLatLngToDivPixel(c),f=i.fromLatLngToDivPixel(o),l=dr(i,n/2,e/2),v=new google.maps.LatLng(0,l[0]),p=i.fromLatLngToContainerPixel(v),u=i.fromLatLngToDivPixel(v);if(!h||!f||!u||!p)return{width:n,height:e,left:0,top:0};var y=Math.round(u.x-p.x),x=u.y-p.y,M=dr(i,n/2,0),O=dr(i,n/2,e),m=l[1],g=l[0];if(Math.abs(m)>Mr){m=m>0?Mr:-Mr;var d=new google.maps.LatLng(m,g),k=i.fromLatLngToContainerPixel(d);x+=k.y-e/2}x=Math.round(x);var A=new G(M).sub(O),_=180*A.verticalAngle()/Math.PI;_<0&&(_+=360);var S=r.getHeading()||0,P=r.getZoom()-1,L;if(_===0)L=e?(f.y-h.y)/e:1;else if(_===S){var T=new G([h.x,h.y]).sub([f.x,f.y]).len(),z=new G([n,-e]).len();L=z?T/z:1}return P+=Math.log2(L||1),{width:n,height:e,left:y,top:x,zoom:P,bearing:_,pitch:r.getTilt(),latitude:m,longitude:g}}function Or(r,t){var a=ie(r),n=a.width,e=a.height,i=t.getCameraParams(),s=i.center,c=i.heading,o=i.tilt,h=i.zoom,f=25,l=e?n/e:1,v=.75,p=3e14,u=new U().perspective({fovy:f*Math.PI/180,aspect:l,near:v,far:p}),y=.5*u[5];return{width:n,height:e,viewState:{altitude:y,bearing:c,latitude:s.lat(),longitude:s.lng(),pitch:o,projectionMatrix:u,repeat:!0,zoom:h-1}}}function ie(r){var t=r.getDiv().firstChild;return{width:t.offsetWidth,height:t.offsetHeight}}function dr(r,t,a){var n=new google.maps.Point(t,a),e=r.fromContainerPixelToLatLng(n);return[e.lng(),e.lat()]}function Ze(r,t){if(r.pixel)return r.pixel;var a=t.getViewports()[0].project([r.latLng.lng(),r.latLng.lat()]);return{x:a[0],y:a[1]}}function $e(r,t,a){if(r.isInitialized){var n={type:t,offsetCenter:Ze(a,r),srcEvent:a};switch(t){case"click":case"rightclick":n.type="click",n.tapCount=1,r._onPointerDown(n),r._onEvent(n);break;case"dblclick":n.type="click",n.tapCount=2,r._onEvent(n);break;case"mousemove":n.type="pointermove",r._onPointerMove(n);break;case"mouseout":n.type="pointerleave",r._onPointerMove(n);break;default:return}}}var Ke=["width","height","left","top"];function se(r,t){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),a.push.apply(a,n)}return a}function B(r){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?se(Object(a),!0).forEach(function(n){I(r,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(a,n))})}return r}var Xe=function(){return!1},Ge={depthMask:!0,depthTest:!0,blend:!0,blendFunc:[770,771,1,771],blendEquation:32774};function ce(){}var Ue={interleaved:!0},oe=function(){function r(t){N(this,r),I(this,"props",{}),I(this,"_map",null),I(this,"_deck",null),I(this,"_overlay",null),this.setProps(B(B({},Ue),t))}return b(r,[{key:"setMap",value:function(a){var n=this;if(a!==this._map){var e=google.maps.RenderingType,i=e.VECTOR,s=e.UNINITIALIZED;if(this._map){var c;!a&&this._map.getRenderingType()===i&&this.props.interleaved&&this._overlay.requestRedraw(),(c=this._overlay)===null||c===void 0||c.setMap(null),this._map=null}if(a){this._map=a;var o=a.getRenderingType();o!==s?this._createOverlay(a):a.addListener("renderingtype_changed",function(){n._createOverlay(a)})}}}},{key:"setProps",value:function(a){if(Object.assign(this.props,a),this._deck){if(a.style){var n=this._deck.canvas.parentElement.style;Object.assign(n,a.style),a.style=null}this._deck.setProps(a)}}},{key:"pickObject",value:function(a){return this._deck&&this._deck.pickObject(a)}},{key:"pickMultipleObjects",value:function(a){return this._deck&&this._deck.pickMultipleObjects(a)}},{key:"pickObjects",value:function(a){return this._deck&&this._deck.pickObjects(a)}},{key:"finalize",value:function(){this.setMap(null),this._deck&&(hr(this._deck),this._deck=null)}},{key:"_createOverlay",value:function(a){var n=this.props.interleaved,e=google.maps.RenderingType,i=e.VECTOR,s=e.UNINITIALIZED,c=a.getRenderingType();if(c!==s){var o=c===i&&google.maps.WebGLOverlayView,h=o?google.maps.WebGLOverlayView:google.maps.OverlayView,f=new h;f instanceof google.maps.WebGLOverlayView?(n?(f.onAdd=ce,f.onContextRestored=this._onContextRestored.bind(this),f.onDraw=this._onDrawVectorInterleaved.bind(this)):(f.onAdd=this._onAdd.bind(this),f.onContextRestored=ce,f.onDraw=this._onDrawVectorOverlay.bind(this)),f.onContextLost=this._onContextLost.bind(this)):(f.onAdd=this._onAdd.bind(this),f.draw=this._onDrawRaster.bind(this)),f.onRemove=this._onRemove.bind(this),this._overlay=f,this._overlay.setMap(a)}}},{key:"_onAdd",value:function(){this._deck=kr(this._map,this._overlay,this._deck,this.props)}},{key:"_onContextRestored",value:function(a){var n=this,e=a.gl;if(!(!this._map||!this._overlay)){var i=function(){n._overlay&&n._overlay.requestRedraw()},s=kr(this._map,this._overlay,this._deck,B({gl:e,_customRender:i},this.props));this._deck=s;var c=s.animationLoop;c._renderFrame=function(){var o=e.getParameter(34964);(0,Z.withParameters)(e,{},function(){c.onRender()}),e.bindBuffer(34962,o)}}}},{key:"_onContextLost",value:function(){this._deck&&(hr(this._deck),this._deck=null)}},{key:"_onRemove",value:function(){var a;(a=this._deck)===null||a===void 0||a.setProps({layerFilter:Xe})}},{key:"_onDrawRaster",value:function(){if(!(!this._deck||!this._map)){var a=this._deck,n=ae(this._map,this._overlay),e=n.width,i=n.height,s=n.left,c=n.top,o=vr(n,Ke),h=a.canvas.parentElement.style;h.left="".concat(s,"px"),h.top="".concat(c,"px");var f=1e4;a.setProps({width:e,height:i,viewState:B({altitude:f,repeat:!0},o)}),a.redraw()}}},{key:"_onDrawVectorInterleaved",value:function(a){var n=a.gl,e=a.transformer;if(!(!this._deck||!this._map)){var i=this._deck;if(i.setProps(B(B({},Or(this._map,e)),{},{width:null,height:null})),i.isInitialized){var s=(0,Z.getParameters)(n,36006);i.setProps({_framebuffer:s}),i.needsRedraw({clearRedrawFlags:!0}),(0,Z.setParameters)(n,{viewport:[0,0,n.canvas.width,n.canvas.height],scissor:[0,0,n.canvas.width,n.canvas.height],stencilFunc:[519,0,255,519,0,255]}),(0,Z.withParameters)(n,Ge,function(){i._drawLayers("google-vector",{clearCanvas:!1})})}}}},{key:"_onDrawVectorOverlay",value:function(a){var n=a.transformer;if(!(!this._deck||!this._map)){var e=this._deck;e.setProps(B({},Or(this._map,n))),e.redraw()}}}]),r}();return xe(Q);})();
      return __exports__;
      });
