{"version":3,"sources":["../../../src/geojson-layer/sub-layer-map.ts"],"names":["IconLayer","ScatterplotLayer","TextLayer","PathLayer","SolidPolygonLayer","POINT_LAYER","circle","type","props","filled","stroked","lineWidthMaxPixels","lineWidthMinPixels","lineWidthScale","lineWidthUnits","pointRadiusMaxPixels","pointRadiusMinPixels","pointRadiusScale","pointRadiusUnits","pointAntialiasing","pointBillboard","getFillColor","getLineColor","getLineWidth","getPointRadius","icon","iconAtlas","iconMapping","iconSizeMaxPixels","iconSizeMinPixels","iconSizeScale","iconSizeUnits","iconAlphaCutoff","iconBillboard","getIcon","getIconAngle","getIconColor","getIconPixelOffset","getIconSize","text","textSizeMaxPixels","textSizeMinPixels","textSizeScale","textSizeUnits","textBackground","textBackgroundPadding","textFontFamily","textFontWeight","textLineHeight","textMaxWidth","textOutlineColor","textOutlineWidth","textWordBreak","textCharacterSet","textBillboard","textFontSettings","getText","getTextAngle","getTextColor","getTextPixelOffset","getTextSize","getTextAnchor","getTextAlignmentBaseline","getTextBackgroundColor","getTextBorderColor","getTextBorderWidth","LINE_LAYER","lineJointRounded","lineCapRounded","lineMiterLimit","lineBillboard","POLYGON_LAYER","extruded","wireframe","elevationScale","material","_full3d","getElevation","getDefaultProps","result","key","defaultProps","forwardProps","layer","mapping","transitions","updateTriggers","getPosition","geometry","sourceKey","targetKey","value","startsWith","getSubLayerAccessor"],"mappings":"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","sourcesContent":["import {CompositeLayer, Layer} from '@deck.gl/core';\n\nimport IconLayer from '../icon-layer/icon-layer';\nimport ScatterplotLayer from '../scatterplot-layer/scatterplot-layer';\nimport TextLayer from '../text-layer/text-layer';\nimport PathLayer from '../path-layer/path-layer';\nimport SolidPolygonLayer from '../solid-polygon-layer/solid-polygon-layer';\n\nexport const POINT_LAYER = {\n  circle: {\n    type: ScatterplotLayer,\n    props: {\n      filled: 'filled',\n      stroked: 'stroked',\n\n      lineWidthMaxPixels: 'lineWidthMaxPixels',\n      lineWidthMinPixels: 'lineWidthMinPixels',\n      lineWidthScale: 'lineWidthScale',\n      lineWidthUnits: 'lineWidthUnits',\n      pointRadiusMaxPixels: 'radiusMaxPixels',\n      pointRadiusMinPixels: 'radiusMinPixels',\n      pointRadiusScale: 'radiusScale',\n      pointRadiusUnits: 'radiusUnits',\n      pointAntialiasing: 'antialiasing',\n      pointBillboard: 'billboard',\n\n      getFillColor: 'getFillColor',\n      getLineColor: 'getLineColor',\n      getLineWidth: 'getLineWidth',\n      getPointRadius: 'getRadius'\n    }\n  },\n  icon: {\n    type: IconLayer,\n    props: {\n      iconAtlas: 'iconAtlas',\n      iconMapping: 'iconMapping',\n\n      iconSizeMaxPixels: 'sizeMaxPixels',\n      iconSizeMinPixels: 'sizeMinPixels',\n      iconSizeScale: 'sizeScale',\n      iconSizeUnits: 'sizeUnits',\n      iconAlphaCutoff: 'alphaCutoff',\n      iconBillboard: 'billboard',\n\n      getIcon: 'getIcon',\n      getIconAngle: 'getAngle',\n      getIconColor: 'getColor',\n      getIconPixelOffset: 'getPixelOffset',\n      getIconSize: 'getSize'\n    }\n  },\n  text: {\n    type: TextLayer,\n    props: {\n      textSizeMaxPixels: 'sizeMaxPixels',\n      textSizeMinPixels: 'sizeMinPixels',\n      textSizeScale: 'sizeScale',\n      textSizeUnits: 'sizeUnits',\n\n      textBackground: 'background',\n      textBackgroundPadding: 'backgroundPadding',\n      textFontFamily: 'fontFamily',\n      textFontWeight: 'fontWeight',\n      textLineHeight: 'lineHeight',\n      textMaxWidth: 'maxWidth',\n      textOutlineColor: 'outlineColor',\n      textOutlineWidth: 'outlineWidth',\n      textWordBreak: 'wordBreak',\n      textCharacterSet: 'characterSet',\n      textBillboard: 'billboard',\n      textFontSettings: 'fontSettings',\n\n      getText: 'getText',\n      getTextAngle: 'getAngle',\n      getTextColor: 'getColor',\n      getTextPixelOffset: 'getPixelOffset',\n      getTextSize: 'getSize',\n      getTextAnchor: 'getTextAnchor',\n      getTextAlignmentBaseline: 'getAlignmentBaseline',\n      getTextBackgroundColor: 'getBackgroundColor',\n      getTextBorderColor: 'getBorderColor',\n      getTextBorderWidth: 'getBorderWidth'\n    }\n  }\n};\n\nexport const LINE_LAYER = {\n  type: PathLayer,\n  props: {\n    lineWidthUnits: 'widthUnits',\n    lineWidthScale: 'widthScale',\n    lineWidthMinPixels: 'widthMinPixels',\n    lineWidthMaxPixels: 'widthMaxPixels',\n    lineJointRounded: 'jointRounded',\n    lineCapRounded: 'capRounded',\n    lineMiterLimit: 'miterLimit',\n    lineBillboard: 'billboard',\n\n    getLineColor: 'getColor',\n    getLineWidth: 'getWidth'\n  }\n};\n\nexport const POLYGON_LAYER = {\n  type: SolidPolygonLayer,\n  props: {\n    extruded: 'extruded',\n    filled: 'filled',\n    wireframe: 'wireframe',\n    elevationScale: 'elevationScale',\n    material: 'material',\n    _full3d: '_full3d',\n\n    getElevation: 'getElevation',\n    getFillColor: 'getFillColor',\n    getLineColor: 'getLineColor'\n  }\n};\n\nexport function getDefaultProps({\n  type,\n  props\n}: {\n  type: typeof Layer;\n  props: Record<string, string>;\n}): Record<string, any> {\n  const result = {};\n  for (const key in props) {\n    result[key] = type.defaultProps[props[key]];\n  }\n  return result;\n}\n\nexport function forwardProps(\n  layer: CompositeLayer,\n  mapping: Record<string, string>\n): Record<string, any> {\n  const {transitions, updateTriggers} = layer.props;\n  const result: Record<string, any> = {\n    updateTriggers: {},\n    transitions: transitions && {\n      getPosition: transitions.geometry\n    }\n  };\n\n  for (const sourceKey in mapping) {\n    const targetKey = mapping[sourceKey];\n    let value = layer.props[sourceKey];\n    if (sourceKey.startsWith('get')) {\n      // isAccessor\n      value = (layer as any).getSubLayerAccessor(value);\n      result.updateTriggers[targetKey] = updateTriggers[sourceKey];\n      if (transitions) {\n        result.transitions[targetKey] = transitions[sourceKey];\n      }\n    }\n    result[targetKey] = value;\n  }\n  return result;\n}\n"],"file":"sub-layer-map.js"}